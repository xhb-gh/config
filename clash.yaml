port: 7890 # HTTP(S)
socks-port: 7891
# mixed-port: 7892 # åŒæ—¶æ”¯æŒ HTTP(S) å’Œ SOCKS5 åè®®
allow-lan: true
mode: rule  # rule, global, direct
log-level: warning #info
ipv6: false
tcp-concurrent: true # tcpå¹¶å‘
geodata-mode: true # mmdbæˆ–è€…dat, trueä¸ºdat
geodata-loader: standard

clash-for-android:
  append-system-dns: false
  keep-alive-interval: 30 # å‡å°‘ç§»åŠ¨è®¾å¤‡è€—ç”µé—®é¢˜çš„ä¸´æ—¶æªæ–½

profile: # ç¼“å­˜
  tracing: true
  store-selected: false # å‚¨å­˜APIå¯¹ç­–ç•¥ç»„çš„é€‰æ‹©, ä»¥ä¾›ä¸‹æ¬¡å¯åŠ¨æ—¶ä½¿ç”¨
  store-fake-ip: true # å‚¨å­˜fakeipæ˜ å°„è¡¨,åŸŸåå†æ¬¡å‘ç”Ÿè¿æ¥æ—¶, ä½¿ç”¨åŸæœ‰æ˜ å°„åœ°å€

pac:
  enable: true
  # File: http://localhost:7890/proxy.pac

tun:
  enable: false
  stack: system
  auto-route: true
  auto-detect-interface: true
  dns-hijack:  # åŠ«æŒæœ¬æœºæ‰€æœ‰53ç«¯å£çš„DNSè¯·æ±‚ï¼Œæ‰€æœ‰DNSè¯·æ±‚éƒ½ç”±Clashç»Ÿä¸€å¤„ç†
    - any:53
    - tcp://any:53

dns:
  enable: true # è®©Clashæ¥ç®¡DNSæŸ¥è¯¢
  listen: 0.0.0.0:53 # ç›‘å¬æ‰€æœ‰ç½‘å¡çš„53ç«¯å£ï¼Œæ‹¦æˆªæœ¬æœºå‘å‡ºçš„DNSè¯·æ±‚
  ipv6: false
  default-nameserver: # é»˜è®¤DNSæœåŠ¡å™¨
    - 8.8.8.8
    - tls://223.5.5.5
    - tls://223.6.6.6
    - 1.1.1.1  # Cloudflare DNS, https://1.1.1.1/dns-query
    - 1.0.0.1  # Cloudflare DNS, tls://1.0.0.1
  enhanced-mode: fake-ip
  fake-ip-range: 28.0.0.1/8
  fake-ip-filter: # å¯¹ä»¥ä¸‹åŸŸåä½¿ç”¨æ­£å¸¸DNSè§£æ, ä¸ä½¿ç”¨ fake-ip
    - '*.lan'
    - '*.local'
  nameserver:  # ä¸»è¦DNSè§£ææœåŠ¡å™¨
    - 8.8.8.8  # è°·æ­Œå…¬å…±DNS
    - tls://223.5.5.5 # DNS over TLS, é˜¿é‡Œå…¬å…±DNSä¸»æœåŠ¡å™¨
    - tls://223.6.6.6 # DNS over TLS, é˜¿é‡Œå…¬å…±DNSå¤‡ç”¨æœåŠ¡å™¨
    - https://dns.alidns.com/dns-query # DNS over HTTPS
    - https://doh.pub/dns-query # DNS over HTTPS, è…¾è®¯å…¬å…±DNSæœåŠ¡
    
# ä¸“ç”¨äºclashèŠ‚ç‚¹åŸŸåè§£æçš„ DNS æœåŠ¡å™¨ï¼Œéå¿…è¦é…ç½®é¡¹
  proxy-server-nameserver: # èŠ‚ç‚¹è‡ªå·±éœ€è¦è§£æåŸŸåæ—¶ä½¿ç”¨
    - tls://223.5.5.5
    - tls://223.6.6.6
    - https://dns.alidns.com/dns-query

 # å½“ nameserver è§£æå‡ºçš„IPåœ°å€è¢«åˆ¤å®šä¸ºéä¸­å›½å¤§é™†IPæ—¶ï¼Œ
 # ä¼šå¯ç”¨ fallback æœºåˆ¶ã€‚éå¿…è¦é…ç½®é¡¹
  fallback:
    - "tls://1.1.1.1#ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    - "tls://1.0.0.1#ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    - "https://1.1.1.1/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    - "https://1.0.0.1/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    - "https://dns.cloudflare.com/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    
  fallback-filter:
    geoip: true
    ipcidr:
      - 240.0.0.0/4 #æ­¤IPæ®µä¸ä½¿ç”¨fallback, ä¸è§¦å‘fallback
    domain: # ä»¥ä¸‹åŸŸåä½¿ç”¨ fallback, å¼ºåˆ¶èµ°fallback
      - "+.dns.nextdns.io"
      - "+.hk-hkg.doh.sb"
      - "+.dns.cloudflare.com"
      - "+.dns.google"
      - "+.google.com"
      - "+.facebook.com"
      - "+.youtube.com"
      - "+.githubusercontent.com"
      - "+.netflix.com"
      - "+.netflix.net"

proxies:
  - name: 001-ç¾å›½æ´›æ‰çŸ¶
    type: vless
    server: 107.172.235.101
    port: 801
    uuid: bae4337a-0b61-472e-8288-fc8518c
    network: tcp
    tls: true
    udp: true
    servername: hk.trip.com
    flow: xtls-rprx-vision
    reality-opts:
      public-key: "cLVU5mic5rVWhHownFrmPkq5IzDW0NLnEdQkg"
      short-id: "16"
    client-fingerprint: chrome

  - name: 002-ç¾å›½æ´›æ‰çŸ¶
    type: hysteria2
    server: 107.172.235.101
    port: 802
    password: HySAm5SH9CtdLghwcoWP
    # up: "30 Mbps"
    # down: "200 Mbps"
    sni: https://bing.com/
    client-fingerprint: chrome
    skip-cert-verify: true

  - name: 003-ç¾å›½æ´›æ‰çŸ¶
    type: anytls
    server: 107.172.235.101
    port: 8443
    password: anytls321
    client-fingerprint: chrome
    udp: true
    idle-session-check-interval: 30
    idle-session-timeout: 30
    min-idle-session: 0
    sni: https://bing.com
    alpn:
      - h2
      - http/1.1
    skip-cert-verify: true

  - name: 001-é¦™æ¸¯
    type: vless
    server: 103.96.74.62
    port: 801
    uuid: 2f03b547-387b-af37-8c199e8c539a
    network: tcp
    tls: true
    udp: true
    servername: hk.trip.com
    flow: xtls-rprx-vision
    reality-opts:
      public-key: "Tx0zPZDg5Ljo26qXD2ROLAsUJrCbsQRJR0Fw"
      short-id: "18"
    client-fingerprint: chrome

  - name: 002-é¦™æ¸¯
    type: hysteria2
    server: 103.96.74.62
    port: 802
    password: jFr9JfuAayhQIvuV
    # up: "30 Mbps"
    # down: "200 Mbps"
    sni: https://bing.com/
    client-fingerprint: chrome
    skip-cert-verify: true

  - name: 003-é¦™æ¸¯
    type: anytls
    server: 103.96.74.62
    port: 8443
    password: gwFDEjnx
    client-fingerprint: chrome
    udp: true
    idle-session-check-interval: 30
    idle-session-timeout: 30
    min-idle-session: 0
    sni: https://bing.com
    alpn:
      - h2
      - http/1.1
    skip-cert-verify: true

  - name: 001-ç¾å›½è¥¿é›…å›¾
    type: vless
    server: 107.172.219.150
    port: 801
    uuid: 39155912-1f05-43c5-a1eb-146fdc119
    network: tcp
    tls: true
    udp: true
    servername: hk.trip.com
    flow: xtls-rprx-vision
    reality-opts:
      public-key: "oJI1guLxspJ4oHCN1Ugmo-c8ReI1YquqC9BDY"
      short-id: "18"
    client-fingerprint: chrome

  - name: 002-ç¾å›½è¥¿é›…å›¾
    type: hysteria2
    server: 107.172.219.150
    port: 802
    password: HySAm5SH9CARYMtdLgh
    # up: "30 Mbps"
    # down: "200 Mbps"
    sni: https://bing.com/
    client-fingerprint: chrome
    skip-cert-verify: true

  - name: 003-ç¾å›½è¥¿é›…å›¾
    type: anytls
    server: 107.172.219.150
    port: 8443
    password: zN16fy
    client-fingerprint: chrome
    udp: true
    idle-session-check-interval: 30
    idle-session-timeout: 30
    min-idle-session: 0
    sni: https://bing.com
    alpn:
      - h2
      - http/1.1
    skip-cert-verify: true

  # - name: "trojanèŠ‚ç‚¹"
  #   type: trojan
  #   server: bgroup.node4.t.nodelist-airport.com
  #   port: 50001
  #   udp: true
  #   password: 2155145a-b1b5-443a-8977-670f6bd10f02
  #   skip-cert-verify: true
  
proxy-groups:
  # select æ‰‹åŠ¨é€‰æ‹©ï¼Œè¯¥ç»„åœ¨èŠ‚ç‚¹åˆ—è¡¨ä¸Šï¼Œæ‰‹åŠ¨é€‰æ‹©åˆ—è¡¨æˆ–è€…proxy-group
  # url-test å»¶è¿Ÿæœ€ä½èŠ‚ç‚¹ï¼Œæµ‹è¯•è¯¥ç»„æ‰€æœ‰èŠ‚ç‚¹çš„å»¶è¿Ÿ
  # fallback å›è½ï¼Œè¿æ¥è¯¥ç»„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸å¯ç”¨æ—¶åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
  # load-balance è´Ÿè½½å‡è¡¡ï¼Œç”±è¯¥ç»„2ä¸ªä»¥ä¸Šçš„èŠ‚ç‚¹æä¾›é“¾æ¥
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - 001-ç¾å›½æ´›æ‰çŸ¶
      - 002-ç¾å›½æ´›æ‰çŸ¶
      - 003-ç¾å›½æ´›æ‰çŸ¶
      - 001-ç¾å›½è¥¿é›…å›¾
      - 002-ç¾å›½è¥¿é›…å›¾
      - 003-ç¾å›½è¥¿é›…å›¾
      - 001-é¦™æ¸¯
      - 002-é¦™æ¸¯
      - 003-é¦™æ¸¯

      - DIRECT

  # - name: ğŸš€ è‡ªåŠ¨é€‰æ‹©
  #   type: url-test
  #   url: https://cp.cloudflare.com/generate_204
  #   url: http://www.gstatic.com/generate_204
  #   proxies:
  #     - 001-ç¾å›½
  #     - 002-ç¾å›½
  #     - 003-é¦™æ¸¯
  #     - 004-é¦™æ¸¯

rule-providers:
  private:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt"
    path: ./ruleset/private.yaml
    interval: 86400
  cncidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt"
    path: ./ruleset/cncidr.yaml
    interval: 86400
  lancidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"
    path: ./ruleset/lancidr.yaml
    interval: 86400
    
rules:
  - DOMAIN,www.ghw9zwp5.com,DIRECT
  - DOMAIN,tool.liumingye.cn,DIRECT
  - RULE-SET,private,DIRECT
  - RULE-SET,lancidr,DIRECT
  - RULE-SET,cncidr,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
